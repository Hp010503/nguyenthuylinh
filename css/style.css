body, html {
    margin: 0;
    padding: 0;
    width: 100%;
    height: 100%;
    overflow: hidden;
    background-color: #000;
    touch-action: none; 
}

/* --- STARFIELD CSS (NỀN TĨNH) --- */
/* box-shadow sẽ được tải từ starfield.ini và áp dụng bằng JavaScript */
#scene-container::before, #scene-container::after {
    content: "";
    position: absolute;
    top: 0; 
    left: 0; 
    right: 0;
    bottom: 0;
    background: transparent; 
    z-index: -2; /* Đảm bảo nằm sau tất cả các phần tử khác, kể cả dynamic-star */
}

#scene-container::before {
    width: 1px;
    height: 1px;
    /* box-shadow is set by JavaScript from starfield.ini */
    /* QUAN TRỌNG: Bạn phải tự điền giá trị box-shadow vào file starfield.ini */
    animation: animStar 200s linear infinite, twinkleStarSmall 5s ease-in-out infinite alternate; 
}

#scene-container::after {
    width: 2px;
    height: 2px;
    /* box-shadow is set by JavaScript from starfield.ini */
    animation: animStar 150s linear infinite, twinkleStarMedium 7s ease-in-out infinite alternate; 
}

/* Bỏ comment khối này nếu bạn sử dụng và cấu hình #starfield-overlay trong starfield.ini */
/*
#starfield-overlay { 
  content: "";
  position: absolute;
  top: 0; left: 0; right:0; bottom:0;
  width: 3px; 
  height: 3px;
  background: transparent;
  /* box-shadow is set by JavaScript from starfield.ini */
  /* animation: animStar 100s linear infinite, twinkleStarLarge 3s ease-in-out infinite alternate; */
  /* z-index: -1; 
} 
*/

@keyframes animStar {
  from {transform: translateY(0px);}
  to   {transform: translateY(-2000px);} 
}
@keyframes twinkleStarSmall { 
  0%   { opacity: 0.5; }
  50%  { opacity: 1; }
  100% { opacity: 0.5; }
}
@keyframes twinkleStarMedium { 
  0%   { opacity: 0.3; transform: scale(0.8); }
  50%  { opacity: 1; transform: scale(1.2); }
  100% { opacity: 0.3; transform: scale(0.8); }
}
@keyframes twinkleStarLarge { 
  0%   { opacity: 0.7; filter: brightness(0.8) hue-rotate(0deg); }
  50%  { opacity: 1;   filter: brightness(1.2) hue-rotate(20deg); }
  100% { opacity: 0.7; filter: brightness(0.8) hue-rotate(0deg); }
}
/* ---------------------------- */


#scene-container {
    width: 100vw;
    height: 100vh;
    perspective: 1000px; 
    overflow: hidden;
    transform-style: preserve-3d;
    position: relative; 
}

#text-area {
    position: relative;
    width: 100%;
    height: 100%;
    transform-style: preserve-3d; 
    transform-origin: 50% 50% 0; 
}

.falling-text {
    position: absolute;
    font-family: 'Dancing Script', cursive;
    color: #BCE1ED;
    text-shadow:
        0 0 5px #BCE1ED, 0 0 10px #BCE1ED, 0 0 15px #BCE1ED,
        0 0 20px #00A3EF, 0 0 30px #00A3EF, 0 0 40px #00A3EF;
    white-space: nowrap;
    opacity: 0;
    /* transition cho opacity sẽ được xử lý trong JS nếu cần cho hiệu ứng Z */
    will-change: transform, opacity;
    user-select: none;
    pointer-events: none;
    z-index: 1;
}

.falling-image {
    position: absolute;
    opacity: 0; 
    box-shadow: 
        0 0 3px 1px #BCE1ED, 
        0 0 5px 1px rgba(0, 163, 239, 0.5); 
    will-change: transform, opacity; 
    user-select: none; 
    pointer-events: none; 
    transition: opacity 0.5s ease-in-out;
    background-color: rgba(50, 50, 80, 0.3); 
    object-fit: cover;
    z-index: 2;
    /* border-width, border-radius, border-color, border-style được set bởi JS */
}

.falling-icon-container {
    position: absolute;
    display: flex; 
    align-items: center; 
    opacity: 0;
    transition: opacity 0.5s ease-in-out;
    will-change: transform, opacity;
    user-select: none;
    pointer-events: none;
    z-index: 1;  
    text-shadow: 
        0 0 2px #FFFFFF, 
        0 0 5px rgba(0,0,0,0.3); 
}

.falling-icon-container i { margin-right: 5px; }
.falling-icon-container span { white-space: nowrap; font-family: Arial, sans-serif; }

/* CSS CHO SAO ĐỘNG ĐẶC BIỆT */
.dynamic-star {
    position: absolute;
    background-color: white; /* Màu cơ bản, JS có thể thay đổi */
    border-radius: 50%;   
    opacity: 0;            
    will-change: transform, opacity;
    pointer-events: none;  
    z-index: 0; 
}